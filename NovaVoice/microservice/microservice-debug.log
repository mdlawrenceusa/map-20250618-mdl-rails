[32minfo[39m: VonageService initialized {"outboundNumber":"+12135235735","timestamp":"2025-06-22T00:35:53.388Z","webhookBaseUrl":"https://gospelshare.io"}
[32minfo[39m: NovaSonicBidirectionalStreamClient initialized {"timestamp":"2025-06-22T00:35:53.399Z"}
[32minfo[39m: Microservice running on http://0.0.0.0:3000 {"timestamp":"2025-06-22T00:35:53.406Z"}
[32minfo[39m: WebSocket server available on ws://0.0.0.0:3000/ws {"timestamp":"2025-06-22T00:35:53.407Z"}
[32minfo[39m: Environment: {"awsRegion":"us-east-1","outboundNumber":"+12135235735","timestamp":"2025-06-22T00:35:53.407Z","webhookBaseUrl":"https://gospelshare.io"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"inbound","from":"13472005533","headers":{},"status":"ringing","timestamp":"2025-06-22T00:36:52.532Z","to":"12135235700","uuid":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:36:52.769Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"inbound","from":"13472005533","headers":{},"status":"started","timestamp":"2025-06-22T00:36:52.532Z","to":"12135235700","uuid":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:36:52.773Z"}
[32minfo[39m: Vonage inbound answer webhook {"callId":"9fbe22037ff74c1afed22c06d8f1f575","conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","from":"13472005533","query":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","endpoint_type":"phone","from":"13472005533","region_url":"https://api-us-3.vonage.com","to":"12135235700","uuid":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:36:52.829Z","to":"12135235700"}
[32minfo[39m: BedrockService initialized {"modelId":"amazon.nova-sonic-v1:0","region":"us-east-1","timestamp":"2025-06-22T00:36:52.831Z"}
[32minfo[39m: AudioProcessor initialized {"timestamp":"2025-06-22T00:36:52.832Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"inbound","from":"13472005533","headers":{},"network":null,"rate":null,"start_time":null,"status":"answered","timestamp":"2025-06-22T00:36:52.913Z","to":"12135235700","uuid":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:36:52.947Z"}
[32minfo[39m: WebSocket connection attempt {"callId":"9fbe22037ff74c1afed22c06d8f1f575","headers":{"cloudfront-forwarded-proto":"https","cloudfront-is-desktop-viewer":"true","cloudfront-is-mobile-viewer":"false","cloudfront-is-smarttv-viewer":"false","cloudfront-is-tablet-viewer":"false","cloudfront-viewer-asn":"14618","cloudfront-viewer-country":"US","connection":"upgrade","host":"gospelshare.io","origin":"wss://gospelshare.io","sec-websocket-key":"Y5ZERkfRKjTldsTGtxSPzA==","sec-websocket-protocol":"WSBRIDGE","sec-websocket-version":"13","upgrade":"websocket","user-agent":"WSBridgeV2","via":"1.1 8344dfae09c80e0fc7cdc7ea030bce72.cloudfront.net (CloudFront)","x-amz-cf-id":"T3XcNMcbit1TZOCaw5SKkKzcUIgD54SwK4qLEwpuVTqRtF3_C65D9Q==","x-forwarded-for":"216.147.2.208"},"pathname":"/socket","searchParams":{"channel":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:36:58.952Z","url":"/socket?channel=9fbe22037ff74c1afed22c06d8f1f575"}
[32minfo[39m: WebSocket connected {"callId":"9fbe22037ff74c1afed22c06d8f1f575","timestamp":"2025-06-22T00:36:58.953Z"}
[32minfo[39m: Starting bidirectional stream for session 9fbe22037ff74c1afed22c06d8f1f575... {"timestamp":"2025-06-22T00:36:58.954Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"network":null,"rate":null,"start_time":null,"status":"answered","timestamp":"2025-06-22T00:36:58.994Z","to":"wss://gospelshare.io/socket?channel=9fbe22037ff74c1afed22c06d8f1f575","uuid":"61caf4b3-bae7-492c-9556-96132ed102e5"},"timestamp":"2025-06-22T00:36:59.086Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"status":"started","timestamp":"2025-06-22T00:36:58.994Z","to":"wss://gospelshare.io/socket?channel=9fbe22037ff74c1afed22c06d8f1f575","uuid":"61caf4b3-bae7-492c-9556-96132ed102e5"},"timestamp":"2025-06-22T00:36:59.093Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"status":"ringing","timestamp":"2025-06-22T00:36:58.994Z","to":"wss://gospelshare.io/socket?channel=9fbe22037ff74c1afed22c06d8f1f575","uuid":"61caf4b3-bae7-492c-9556-96132ed102e5"},"timestamp":"2025-06-22T00:36:59.102Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"inbound","disconnected_by":"user","duration":"21","end_time":"2025-06-22T00:37:13.000Z","from":"13472005533","headers":{},"network":"US-UNKNOWN","price":"0.00163100","rate":"0.00466000","start_time":"2025-06-22T00:36:52.000Z","status":"completed","timestamp":"2025-06-22T00:37:12.908Z","to":"12135235700","uuid":"9fbe22037ff74c1afed22c06d8f1f575"},"timestamp":"2025-06-22T00:37:13.239Z"}
[32minfo[39m: Inbound call ended {"callId":"9fbe22037ff74c1afed22c06d8f1f575","duration":20407,"phoneNumber":"13472005533","status":"completed","timestamp":"2025-06-22T00:37:13.239Z","transcript":[]}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-98190fea-806b-4743-a9c2-ad6d7c1e135f","direction":"outbound","disconnected_by":"platform","duration":"15","end_time":"2025-06-22T00:37:13.000Z","from":"Esther - Mike Lawrence Productions","headers":{},"network":null,"price":"0.001000","rate":"0.004000","start_time":"2025-06-22T00:36:58.000Z","status":"completed","timestamp":"2025-06-22T00:37:13.282Z","to":"wss://gospelshare.io/socket?channel=9fbe22037ff74c1afed22c06d8f1f575","uuid":"61caf4b3-bae7-492c-9556-96132ed102e5"},"timestamp":"2025-06-22T00:37:13.528Z"}
[32minfo[39m: Stream established for session 9fbe22037ff74c1afed22c06d8f1f575, processing responses... {"timestamp":"2025-06-22T00:37:57.147Z"}
[31merror[39m: Error processing response stream for session 9fbe22037ff74c1afed22c06d8f1f575:  Timed out waiting for input events {"$fault":"client","$metadata":{},"name":"ValidationException","stack":"ValidationException: Timed out waiting for input events\n    at de_ValidationExceptionRes (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1699:21)\n    at de_ValidationException_event (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1969:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1811:30\n    at async Object.deserializer (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@smithy/eventstream-serde-universal/dist-cjs/index.js:127:37)\n    at async SmithyMessageDecoderStream.asyncIterator (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@smithy/eventstream-codec/dist-cjs/index.js:438:28)\n    at async NovaSonicBidirectionalStreamClient.processResponseStream (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/nova-sonic-client.js:312:30)\n    at async NovaSonicBidirectionalStreamClient.initiateSession (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/nova-sonic-client.js:210:13)\n    at async WebSocketServer.<anonymous> (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/index.js:444:9)","timestamp":"2025-06-22T00:37:57.151Z"}
[31merror[39m: Nova Sonic error {"callId":"9fbe22037ff74c1afed22c06d8f1f575","error":{"details":"Timed out waiting for input events","message":"Error processing response stream","source":"responseStream"},"timestamp":"2025-06-22T00:37:57.151Z"}
[32minfo[39m: Setting up startAudioContent event for session 9fbe22037ff74c1afed22c06d8f1f575... {"timestamp":"2025-06-22T00:37:57.152Z"}
[32minfo[39m: Using audio content ID: 5f6d01f3-e5c8-4f86-81bb-0912f2baf654 {"timestamp":"2025-06-22T00:37:57.152Z"}
[32minfo[39m: Nova Sonic session initialized {"callId":"9fbe22037ff74c1afed22c06d8f1f575","timestamp":"2025-06-22T00:37:57.153Z"}
