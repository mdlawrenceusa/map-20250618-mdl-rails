[32minfo[39m: VonageService initialized {"outboundNumber":"+12135235735","timestamp":"2025-06-21T22:34:46.764Z","webhookBaseUrl":"https://gospelshare.io"}
[32minfo[39m: NovaSonicBidirectionalStreamClient initialized {"timestamp":"2025-06-21T22:34:46.771Z"}
[32minfo[39m: Microservice running on http://0.0.0.0:3000 {"timestamp":"2025-06-21T22:34:46.777Z"}
[32minfo[39m: WebSocket server available on ws://0.0.0.0:3000/ws {"timestamp":"2025-06-21T22:34:46.778Z"}
[32minfo[39m: Environment: {"awsRegion":"us-east-1","outboundNumber":"+12135235735","timestamp":"2025-06-21T22:34:46.779Z","webhookBaseUrl":"https://gospelshare.io"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"inbound","from":"13472005533","headers":{},"status":"ringing","timestamp":"2025-06-21T22:40:31.955Z","to":"12135235700","uuid":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:32.160Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"inbound","from":"13472005533","headers":{},"status":"started","timestamp":"2025-06-21T22:40:31.955Z","to":"12135235700","uuid":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:32.164Z"}
[32minfo[39m: Vonage inbound answer webhook {"callId":"e3f74ed6bc782b1eed383a48fed901fe","conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","from":"13472005533","query":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","endpoint_type":"phone","from":"13472005533","region_url":"https://api-us-3.vonage.com","to":"12135235700","uuid":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:32.208Z","to":"12135235700"}
[32minfo[39m: BedrockService initialized {"modelId":"amazon.nova-sonic-v1:0","region":"us-east-1","timestamp":"2025-06-21T22:40:32.211Z"}
[32minfo[39m: AudioProcessor initialized {"timestamp":"2025-06-21T22:40:32.211Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"inbound","from":"13472005533","headers":{},"network":null,"rate":null,"start_time":null,"status":"answered","timestamp":"2025-06-21T22:40:32.271Z","to":"12135235700","uuid":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:32.308Z"}
[32minfo[39m: WebSocket connection attempt {"callId":"e3f74ed6bc782b1eed383a48fed901fe","headers":{"cloudfront-forwarded-proto":"https","cloudfront-is-desktop-viewer":"true","cloudfront-is-mobile-viewer":"false","cloudfront-is-smarttv-viewer":"false","cloudfront-is-tablet-viewer":"false","cloudfront-viewer-asn":"14618","cloudfront-viewer-country":"US","connection":"upgrade","host":"gospelshare.io","origin":"wss://gospelshare.io","sec-websocket-key":"pXOydcEXPy0ul2JRiBwwtg==","sec-websocket-protocol":"WSBRIDGE","sec-websocket-version":"13","upgrade":"websocket","user-agent":"WSBridgeV2","via":"1.1 3344004e9e789eb2a14c4d54c4af9600.cloudfront.net (CloudFront)","x-amz-cf-id":"K0V69klt732r8eVmgm2gtzN0ky4Y7B1DP3TVXCx1JUbu4OqcsKhkCw==","x-forwarded-for":"216.147.2.184"},"pathname":"/socket","searchParams":{"channel":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:38.300Z","url":"/socket?channel=e3f74ed6bc782b1eed383a48fed901fe"}
[32minfo[39m: WebSocket connected {"callId":"e3f74ed6bc782b1eed383a48fed901fe","timestamp":"2025-06-21T22:40:38.301Z"}
[32minfo[39m: Starting bidirectional stream for session e3f74ed6bc782b1eed383a48fed901fe... {"timestamp":"2025-06-21T22:40:38.302Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"status":"started","timestamp":"2025-06-21T22:40:38.332Z","to":"wss://gospelshare.io/socket?channel=e3f74ed6bc782b1eed383a48fed901fe","uuid":"cb70936e-4d6f-417b-9f6c-cd52d84011e6"},"timestamp":"2025-06-21T22:40:38.401Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"network":null,"rate":null,"start_time":null,"status":"answered","timestamp":"2025-06-21T22:40:38.332Z","to":"wss://gospelshare.io/socket?channel=e3f74ed6bc782b1eed383a48fed901fe","uuid":"cb70936e-4d6f-417b-9f6c-cd52d84011e6"},"timestamp":"2025-06-21T22:40:38.407Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"outbound","from":"Esther - Mike Lawrence Productions","headers":{},"status":"ringing","timestamp":"2025-06-21T22:40:38.332Z","to":"wss://gospelshare.io/socket?channel=e3f74ed6bc782b1eed383a48fed901fe","uuid":"cb70936e-4d6f-417b-9f6c-cd52d84011e6"},"timestamp":"2025-06-21T22:40:38.411Z"}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"inbound","disconnected_by":"user","duration":"22","end_time":"2025-06-21T22:40:54.000Z","from":"13472005533","headers":{},"network":"US-UNKNOWN","price":"0.00170867","rate":"0.00466000","start_time":"2025-06-21T22:40:32.000Z","status":"completed","timestamp":"2025-06-21T22:40:53.434Z","to":"12135235700","uuid":"e3f74ed6bc782b1eed383a48fed901fe"},"timestamp":"2025-06-21T22:40:53.737Z"}
[32minfo[39m: Inbound call ended {"callId":"e3f74ed6bc782b1eed383a48fed901fe","duration":21525,"phoneNumber":"13472005533","status":"completed","timestamp":"2025-06-21T22:40:53.737Z","transcript":[]}
[32minfo[39m: Vonage inbound event {"body":{"conversation_uuid":"CON-5e034bdb-9503-4cff-b52b-5b2d25fbe017","direction":"outbound","disconnected_by":"platform","duration":"15","end_time":"2025-06-21T22:40:53.000Z","from":"Esther - Mike Lawrence Productions","headers":{},"network":null,"price":"0.001000","rate":"0.004000","start_time":"2025-06-21T22:40:38.000Z","status":"completed","timestamp":"2025-06-21T22:40:53.787Z","to":"wss://gospelshare.io/socket?channel=e3f74ed6bc782b1eed383a48fed901fe","uuid":"cb70936e-4d6f-417b-9f6c-cd52d84011e6"},"timestamp":"2025-06-21T22:40:54.036Z"}
[32minfo[39m: Stream established for session e3f74ed6bc782b1eed383a48fed901fe, processing responses... {"timestamp":"2025-06-21T22:41:36.495Z"}
[31merror[39m: Error processing response stream for session e3f74ed6bc782b1eed383a48fed901fe:  Timed out waiting for input events {"$fault":"client","$metadata":{},"name":"ValidationException","stack":"ValidationException: Timed out waiting for input events\n    at de_ValidationExceptionRes (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1699:21)\n    at de_ValidationException_event (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1969:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@aws-sdk/client-bedrock-runtime/dist-cjs/index.js:1811:30\n    at async Object.deserializer (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@smithy/eventstream-serde-universal/dist-cjs/index.js:127:37)\n    at async SmithyMessageDecoderStream.asyncIterator (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/node_modules/@smithy/eventstream-codec/dist-cjs/index.js:438:28)\n    at async NovaSonicBidirectionalStreamClient.processResponseStream (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/nova-sonic-client.js:303:30)\n    at async NovaSonicBidirectionalStreamClient.initiateSession (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/nova-sonic-client.js:201:13)\n    at async WebSocketServer.<anonymous> (/home/ec2-user/environment/map-20250618-mdl-rails/NovaVoice/microservice/dist/index.js:444:9)","timestamp":"2025-06-21T22:41:36.499Z"}
[31merror[39m: Nova Sonic error {"callId":"e3f74ed6bc782b1eed383a48fed901fe","error":{"details":"Timed out waiting for input events","message":"Error processing response stream","source":"responseStream"},"timestamp":"2025-06-21T22:41:36.500Z"}
[32minfo[39m: Setting up startAudioContent event for session e3f74ed6bc782b1eed383a48fed901fe... {"timestamp":"2025-06-21T22:41:36.501Z"}
[32minfo[39m: Using audio content ID: afab2f1a-c3e2-4003-b9a9-7bd96903bfb5 {"timestamp":"2025-06-21T22:41:36.501Z"}
[32minfo[39m: Nova Sonic session initialized {"callId":"e3f74ed6bc782b1eed383a48fed901fe","timestamp":"2025-06-21T22:41:36.501Z"}
